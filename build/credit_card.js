(()=>{var e={21:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e);function r(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))}let a={};class s{constructor(e){this.handleClick=e=>r(this,void 0,void 0,(function*(){const t=this.config;if(!t)throw new Error("google-pay-button: Missing configuration");const n=this.createLoadPaymentDataRequest(t);try{if(t.onClick&&t.onClick(e),e.defaultPrevented)return;const r=yield this.client.loadPaymentData(n);t.onLoadPaymentData&&t.onLoadPaymentData(r)}catch(e){"CANCELED"===e.statusCode?t.onCancel&&t.onCancel(e):t.onError?t.onError(e):console.error(e)}})),this.options=e}getElement(){return this.element}isGooglePayLoaded(){var e,t;return"google"in(window||n.g)&&!!(null===(t=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===t?void 0:t.PaymentsClient)}mount(e){var t;return r(this,void 0,void 0,(function*(){if(!this.isGooglePayLoaded())try{yield function(e){const t=a[e];if(t)return t;const n=new Promise(((t,n)=>{const r=document.createElement("script");r.src=e,r.async=!0;const s=()=>{t()},o=()=>{r.removeEventListener("load",s),r.removeEventListener("error",o),delete a[e],r.remove(),n(new Error(`Unable to load script ${e}`))};r.addEventListener("load",s),r.addEventListener("error",o),document.body.appendChild(r)}));return a[e]=n,n}("https://pay.google.com/gp/p/js/pay.js")}catch(e){return void((null===(t=this.config)||void 0===t?void 0:t.onError)?this.config.onError(e):console.error(e))}this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(e){let t;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}createClientOptions(e){const t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=t=>e.onPaymentDataChanged(t)||{}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=t=>e.onPaymentAuthorized(t)||{})),t}createIsReadyToPayRequest(e){const t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}createLoadPaymentDataRequest(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}createMerchantInfo(e){const t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const e of Array.from(this.element.children))"STYLE"!==e.tagName&&e.remove()}updateElement(){return r(this,void 0,void 0,(function*(){if(!this.isMounted())return;const e=this.getElement();if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton();try{this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config))}catch(e){return void(this.config.onError?this.config.onError(e):console.error(e))}const t={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonRadius:this.config.buttonRadius,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick,allowedPaymentMethods:this.config.paymentRequest.allowedPaymentMethods},n=e.getRootNode();n instanceof ShadowRoot&&(t.buttonRootNode=n);const r=this.client.createButton(t);this.setClassName(e,[e.className,"not-ready"]),e.appendChild(r);let a,s=!1;try{a=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=a.result&&!this.config.existingPaymentMethodRequired||a.result&&a.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(e){this.config.onError?this.config.onError(e):console.error(e)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log("Error with prefetch",e)}this.setClassName(e,(e.className||"").split(" ").filter((e=>e&&"not-ready"!==e)))}if((this.isReadyToPay!==(null==a?void 0:a.result)||this.paymentMethodPresent!==(null==a?void 0:a.paymentMethodPresent))&&(this.isReadyToPay=!!(null==a?void 0:a.result),this.paymentMethodPresent=null==a?void 0:a.paymentMethodPresent,this.config.onReadyToPayChange)){const e={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(e.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(e)}}}))}setClassName(e,t){const n=t.filter((e=>e)).join(" ");n?e.className=n:e.removeAttribute("class")}appendStyles(){var e,t,n;if("undefined"==typeof document)return;const r=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),a=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${null===(t=this.config)||void 0===t?void 0:t.buttonLocale}`;if(r&&!(null===(n=r.getElementById)||void 0===n?void 0:n.call(r,a))){const e=document.createElement("style");e.id=a,e.type="text/css",e.innerHTML=`\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `,r instanceof Document&&r.head?r.head.appendChild(e):r.appendChild(e)}}isClientInvalidated(e){return!this.oldInvalidationValues||this.getInvalidationValues(e).some(((e,t)=>JSON.stringify(e)!==JSON.stringify(this.oldInvalidationValues[t])))}getInvalidationValues(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonType,e.buttonColor,e.buttonRadius,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version,e.paymentRequest.allowedPaymentMethods]}}const o="google-pay-button-container";class i extends t.default.Component{constructor(){super(...arguments),this.manager=new s({cssSelector:`.${o}`,softwareInfoId:"@google-pay/button-react",softwareInfoVersion:"3.1.0"}),this.elementRef=t.default.createRef()}componentDidMount(){return r(this,void 0,void 0,(function*(){const e=this.elementRef.current;e&&(yield this.manager.configure(this.props),yield this.manager.mount(e))}))}componentWillUnmount(){this.manager.unmount()}componentDidUpdate(){this.manager.configure(this.props)}render(){return t.default.createElement("div",{ref:this.elementRef,className:[o,this.props.className].filter((e=>e)).join(" "),style:this.props.style})}}return i}(n(609))},694:(e,t,n)=>{"use strict";var r=n(925);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},844:(e,t,n)=>{e.exports=n(200)},200:(e,t,n)=>{"use strict";var r,a=(r=n(609))&&"object"==typeof r&&"default"in r?r.default:r,s=n(795);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(e,t,n,r,a,s,o,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,s,o,i],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function u(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var c={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function d(e,t,n){var r="",a="",s=null,o=[];if(void 0===t&&(t="_"),null==n&&(n=c),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var i=!1;return e.split("").forEach((function(e){i=!i&&"\\"===e||(i||!n[e]?(o.push(r.length),r.length===o.length-1&&(a+=e)):s=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:a,mask:r,lastEditablePosition:s,permanents:o}}function p(e,t){return-1!==e.permanents.indexOf(t)}function m(e,t,n){var r=e.mask,a=e.formatChars;if(!n)return!1;if(p(e,t))return r[t]===n;var s=a[r[t]];return new RegExp(s).test(n)}function h(e,t){return t.split("").every((function(t,n){return p(e,n)||!m(e,n,t)}))}function f(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&p(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var a=r.length,s=t.length;s>=r.length;s--){var o=t[s];if(!p(e,s)&&m(e,s,o)){a=s+1;break}}return a}function g(e,t){return f(e,t)===e.mask.length}function v(e,t){var n=e.maskChar,r=e.mask,a=e.prefix;if(!n){for((t=y(e,"",t,0)).length<a.length&&(t=a);t.length<r.length&&p(e,t.length);)t+=r[t.length];return t}if(t)return y(e,v(e,""),t,0);for(var s=0;s<r.length;s++)p(e,s)?t+=r[s]:t+=n;return t}function y(e,t,n,r){var a=e.mask,s=e.maskChar,o=e.prefix,i=n.split(""),l=g(e,t);return!s&&r>t.length&&(t+=a.slice(t.length,r)),i.every((function(n){for(;c=n,p(e,u=r)&&c!==a[u];){if(r>=t.length&&(t+=a[r]),i=n,s&&p(e,r)&&i===s)return!0;if(++r>=a.length)return!1}var i,u,c;return!m(e,r,n)&&n!==s||(r<t.length?t=s||l||r<o.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),v(e,t)):s||(t+=n),++r<a.length)})),t}function b(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!p(e,r))return r;return null}function E(e){return e||0===e?e+"":""}function w(e){return"function"==typeof e}function C(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function I(e){return(C()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function R(e){(C()||clearTimeout)(e)}var k=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=I(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(R(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=s.findDOMNode(i(i(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=f(n.maskOptions,n.value),t=b(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var a=n.getInputDOMNode(),s=n.isFocused();a&&s&&(r.deferred||u(a,e,t),null!==n.selectionDeferId&&R(n.selectionDeferId),n.selectionDeferId=I((function(){n.selectionDeferId=null,u(a,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,a=e.permanents,s=e.formatChars;return{mask:t,maskChar:r,permanents:a,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:s}},n.isInputAutofilled=function(e,t,r,a){var s=n.getInputDOMNode();try{if(s.matches(":-webkit-autofill"))return!0}catch(e){}return!n.focused||a.end<r.length&&t.end===e.length},n.onChange=function(e){var t=i(i(n)).beforePasteState,r=i(i(n)).previousSelection,a=n.props.beforeMaskedValueChange,s=n.getInputValue(),o=n.value,l=n.getSelection();n.isInputAutofilled(s,l,o,r)&&(o=v(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,o=t.value,l={start:r.start+s.length,end:r.start+s.length,length:0},s=o.slice(0,r.start)+s+o.slice(r.end),n.beforePasteState=null);var u=function(e,t,n,r,a){var s=e.mask,o=e.prefix,i=e.lastEditablePosition,l=t,u="",c=0,d=0,h=Math.min(a.start,n.start);return n.end>a.start?d=(c=function(e,t,n,r){var a=e.mask,s=e.maskChar,o=n.split(""),i=r;return o.every((function(t){for(;o=t,p(e,n=r)&&o!==a[n];)if(++r>=a.length)return!1;var n,o;return(m(e,r,t)||t===s)&&r++,r<a.length})),r-i}(e,0,u=l.slice(a.start,n.end),h))?a.length:0:l.length<r.length&&(d=r.length-l.length),l=r,d&&(1!==d||a.length||(h=a.start===n.start?b(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!p(e,n))return n;return null}(e,n.start)),l=function(e,t,n,r){var a=n+r,s=e.maskChar,o=e.mask,i=e.prefix,l=t.split("");if(s)return l.map((function(t,r){return r<n||a<=r?t:p(e,r)?o[r]:s})).join("");for(var u=a;u<l.length;u++)p(e,u)&&(l[u]="");return n=Math.max(i.length,n),l.splice(n,a-n),t=l.join(""),v(e,t)}(e,l,h,d)),l=y(e,l,u,h),(h+=c)>=s.length?h=s.length:h<o.length&&!c?h=o.length:h>=o.length&&h<i&&c&&(h=b(e,h)),u||(u=null),{value:l=v(e,l),enteredString:u,selection:{start:h,end:h}}}(n.maskOptions,s,l,o,r),c=u.enteredString,d=u.selection,h=u.value;if(w(a)){var f=a({value:h,selection:d},{value:o,selection:r},c,n.getBeforeMaskedValueChangeConfig());h=f.value,d=f.selection}n.setInputValue(h),w(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,a=r.mask,s=r.prefix;if(n.focused=!0,n.mounted=!0,a){if(n.value)f(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var o=v(n.maskOptions,s),i=v(n.maskOptions,o),l=f(n.maskOptions,i),u=b(n.maskOptions,l),c={start:u,end:u};if(w(t)){var d=t({value:i,selection:c},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());i=d.value,c=d.selection}var p=i!==n.getInputValue();p&&n.setInputValue(i),p&&w(n.props.onChange)&&n.props.onChange(e),n.setSelection(c.start,c.end)}n.runSaveSelectionLoop()}w(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&h(n.maskOptions,n.value)){var a="";w(t)&&(a=t({value:a,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var s=a!==n.getInputValue();s&&n.setInputValue(a),s&&w(n.props.onChange)&&n.props.onChange(e)}w(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){!n.focused&&document.addEventListener&&(n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime(),document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),a=Math.abs(t.clientY-n.mouseDownY),s=Math.max(r,a),o=(new Date).getTime()-n.mouseDownTime;(s<=10&&o<=200||s<=5&&o<=300)&&n.setCursorToEnd()}}))),w(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){w(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&w(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,a=t.maskChar,o=t.formatChars,l=t.alwaysShowMask,c=t.beforeMaskedValueChange,g=t.defaultValue,C=t.value;n.maskOptions=d(r,a,o),null==g&&(g=""),null==C&&(C=g);var k=E(C);if(n.maskOptions.mask&&(l||k)&&(k=v(n.maskOptions,k),w(c))){var S=t.value;null==t.value&&(S=g),k=c({value:k,selection:null},{value:S=E(S),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=k,n}!function(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],s=Object.getOwnPropertyDescriptor(t,a);s&&s.configurable&&void 0===e[a]&&Object.defineProperty(e,a,s)}}(e.prototype.constructor=e,t)}(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,a=t.mask,s=t.maskChar,o=t.formatChars,i=this.maskOptions,l=r||this.isFocused(),u=null!=this.props.value,c=u?E(this.props.value):this.value,p=e?e.start:null;if(this.maskOptions=d(a,s,o),this.maskOptions.mask){!i.mask&&this.isFocused()&&this.runSaveSelectionLoop();var m=this.maskOptions.mask&&this.maskOptions.mask!==i.mask;if(i.mask||u||(c=this.getInputValue()),(m||this.maskOptions.mask&&(c||l))&&(c=v(this.maskOptions,c)),m){var y=f(this.maskOptions,c);(null===p||y<p)&&(p=g(this.maskOptions,c)?y:b(this.maskOptions,y))}!this.maskOptions.mask||!h(this.maskOptions,c)||l||u&&this.props.value||(c="");var C={start:p,end:p};if(w(n)){var I=n({value:c,selection:C},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=I.value,C=I.selection}this.value=c;var R=this.getInputValue()!==this.value;R?(this.setInputValue(this.value),this.forceUpdate()):m&&this.forceUpdate();var k=!1;null!=C.start&&null!=C.end&&(k=!e||e.start!==C.start||e.end!==C.end),(k||R)&&this.setSelection(C.start,C.end)}else i.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&R(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){w(n)||l(!1);var s=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],i=o({},r);s.forEach((function(e){return delete i[e]})),e=n(i),s.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&l(!1)}else e=a.createElement("input",o({ref:this.handleRef},r));var u={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(u.onChange=this.onChange,u.onPaste=this.onPaste,u.onMouseDown=this.onMouseDown),null!=r.value&&(u.value=this.value)),e=a.cloneElement(e,u)},t}(a.Component);e.exports=k},609:e=>{"use strict";e.exports=window.React},795:e=>{"use strict";e.exports=window.ReactDOM}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.apply(null,arguments)}const t=window.wp.element;var r=n(556),a=n.n(r);const s=window.wp.components,{formatPrice:o}=window.wc.priceFormat,i=({optionLabel:e,finalPrice:t,value:n,extraText:r,installmentPrice:a})=>{const s=o(a),i=o(t);return 1===n?`${n}x ${e} ${s}`:`${n}x ${e} ${s} (${i}) ${r}`.trim()},l=e=>e.map((e=>({label:i(e),value:e.value}))),u=(e,n,r,a,s,o,i)=>{const[u,c]=(0,t.useState)(l(e)),d=(e=>{const n=(0,t.useRef)();return(0,t.useEffect)((()=>{n.current=e})),n.current})(a);return(0,t.useEffect)((()=>{(async()=>{if(2===n&&!r||1===n&&(!d||d===a))return;o(!0);const e=parseFloat(a/100).toFixed(2).replace(".",",");try{const t=await fetch("/wp-admin/admin-ajax.php?"+new URLSearchParams({action:"xqRhBHJ5sW",flag:r,total:e}),{headers:{"X-Request-Type":"Ajax"}});if(!t.ok)return void o(!1);const n=await t.json();if(!n?.installments?.length)return void o(!1);c(l(n.installments)),s(i,1),o(!1)}catch(e){return void o(!1)}})()}),[r,a,n,c,l,s,i]),(0,t.useEffect)((()=>{2===n&&c([{label:"...",value:""}])}),[n,c]),{installmentsOptions:u,filterHandler:e=>{u.filter((t=>t.label.toLowerCase().startsWith(e.toLowerCase())))},installmentsChangeHandler:e=>{s(i,e)}}},c=({label:e,installments:n,installmentsType:r,selectedInstallment:a,setSelectedInstallment:o,brand:i,cartTotal:l,setIsLoading:c,cardIndex:d})=>{const{installmentsOptions:p,filterHandler:m,installmentsChangeHandler:h}=u(n,r,i,l,o,c,d);return(0,t.createElement)("div",{className:"wc-blocks-components-select"},(0,t.createElement)(s.SelectControl,{label:e,onChange:h,value:a,options:p,onFilterValueChange:m,allowReset:!1,autoComplete:"off"}))};c.propTypes={label:a().string.isRequired,installments:a().array.isRequired,installmentsType:a().number.isRequired,selectedInstallment:a().oneOfType([a().string,a().number]).isRequired,setSelectedInstallment:a().func.isRequired,brand:a().string.isRequired,cartTotal:a().number.isRequired,setIsLoading:a().func.isRequired,cardIndex:a().number.isRequired};const d=c;function p(e){return e.replace(/\s/g,"").split("/")}const m=(e,t,n,r)=>{const a=(e,t)=>(delete t.inputHolderName,e.length>0||(t.inputHolderName=r.holderName),t),s=(e,t)=>(delete t.inputNumber,16===(e=e.replace(/(\D)/g,"")).length||(t.inputNumber=r.cardNumber),t),o=(e,t)=>{if(delete t.inputExpiry,0===e.length)return t.inputExpiry=r.emptyExpiry,t;const[n,a]=p(e),s=new Date(`20${a}`,n-1);let o=new Date;return o=new Date(o.getFullYear(),o.getMonth()),n>=1&&n<=12||(t.inputExpiry=r.invalidExpiryMonth),!a.includes("_")||(t.inputExpiry=r.invalidExpiryYear),s<o&&(t.inputExpiry=r.expiredCard),t},i=(e,t)=>(delete t.inputCvv,0===(e=e.replace(/(\D)/g,"")).length?(t.inputCvv=r.emptyCvv,t):(3===e.length||4===e.length||(t.inputCvv=r.invalidCvv),t));return{validateInputHolderName:r=>{const s=a(r,t);return n(e,{...s}),!!s.inputHolderName},validateInputNumber:r=>{const a=s(r,t);return n(e,{...a}),!!a.inputNumber},validateInputExpiry:r=>{const a=o(r,t);return n(e,{...a}),!!a.inputExpiry},validateInputCvv:r=>{const a=i(r,t);return n(e,{...a}),!!a.inputCvv},validateAllFields:(r,l,u,c)=>{let d={...t};return d=a(r,d),d=s(l,d),d=o(u,d),d=i(c,d),n(e,{...d}),0===Object.keys(d).length}}},h=({id:e,label:n,inputValue:r,setInputValue:a,cardIndex:s,errors:o,setErrors:i,fieldErrors:l})=>{const{setIsActive:u,cssClasses:c,inputChangeHandler:d,inputBlurHandler:p}=((e,n,r,a,s,o)=>{const{validateInputHolderName:i}=m(r,a,s,o);let l="wc-block-components-text-input";const[u,c]=(0,t.useState)(!1);return(u||e.length)&&(l+=" is-active"),a.hasOwnProperty("inputHolderName")&&(l+=" has-error"),{setIsActive:c,cssClasses:l,inputChangeHandler:e=>{const t=e.target.value.replace(/[^a-z ]/gi,"");n(r,t)},inputBlurHandler:e=>{i(e.target.value),c(!1)}}})(r,a,s,o,i,l);return(0,t.createElement)("div",{className:c},(0,t.createElement)("label",{htmlFor:e},n),(0,t.createElement)("input",{type:"text",id:e,value:r,onChange:d,onFocus:()=>u(!0),onBlur:p}),o.inputHolderName&&(0,t.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},(0,t.createElement)("p",null,o.inputHolderName)))};h.propTypes={id:a().string.isRequired,label:a().string.isRequired,inputValue:a().string.isRequired,setInputValue:a().func.isRequired,cardIndex:a().number.isRequired,errors:a().object.isRequired,setErrors:a().func.isRequired,fieldErrors:a().object.isRequired};const f=h;var g=n(844),v=n.n(g);function y(e){return e.replace(/\D/g,"")}const b=({id:e,label:n,inputValue:r,setInputValue:a,brand:s,setBrand:o,brands:i,setIsLoading:l,cardIndex:u,errors:c,setErrors:d,fieldErrors:p})=>{const{setIsActive:h,cssClasses:f,brandImageSrc:g,inputChangeHandler:b,inputBlurHandler:E}=((e,n,r,a,s,o,i,l,u)=>{const{validateInputNumber:c}=m(o,i,l,u),[d,p]=(0,t.useState)("");let h="wc-block-components-text-input pagarme-credit-card-number-container";const[f,g]=(0,t.useState)(!1);(f||e.length)&&(h+=" is-active"),i.hasOwnProperty("inputNumber")&&(h+=" has-error");const v=()=>{a(o,""),p("")},b=async e=>{if(16!==e.length)return void v();s(!0);const t=e.substring(0,6),r=`https://api.pagar.me/bin/v1/${t}`;try{const e=await fetch(r),i=await e.json();let l=i.brand;if(e.ok&&void 0!==i.brandName||(l=(e=>{let t="",r=null;for(const[a,s]of Object.entries(n))for(const n of s.prefixes){const s=n.toString();0===e.indexOf(s)&&t.length<s.length&&(t=s,r=a)}return r})(t)),null===l)return v(),void s(!1);if(i.brandImage)return p(i.brandImage),s(!1),void a(o,l);p(`https://cdn.mundipagg.com/assets/images/logos/brands/png/${l}.png`),s(!1),a(o,l)}catch(e){v(),s(!1)}};return{setIsActive:g,cssClasses:h,brandImageSrc:d,inputChangeHandler:e=>{r(o,e.target.value),b(y(e.target.value))},inputBlurHandler:e=>{c(e.target.value),b(y(e.target.value)),g(!1)}}})(r,i,a,o,l,u,c,d,p);return(0,t.createElement)("div",{className:f},(0,t.createElement)("label",{htmlFor:e},n),(0,t.createElement)(v(),{className:"pagarme-card-form-card-number",type:"text",id:e,mask:"9999 9999 9999 9999",maskChar:"•",onFocus:()=>h(!0),onChange:b,value:r,onBlur:E}),g&&(0,t.createElement)("img",{src:g,alt:s}),c.inputNumber&&(0,t.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},(0,t.createElement)("p",null,c.inputNumber)))};b.propTypes={id:a().string.isRequired,label:a().string.isRequired,inputValue:a().string.isRequired,setInputValue:a().func.isRequired,brand:a().string.isRequired,setBrand:a().func.isRequired,brands:a().object.isRequired,setIsLoading:a().func.isRequired,cardIndex:a().number.isRequired,errors:a().object.isRequired,setErrors:a().func.isRequired,fieldErrors:a().object.isRequired};const E=b,w=({id:e,label:n,inputValue:r,setInputValue:a,cardIndex:s,validate:o,validateIndex:i,mask:l,maskChar:u=null,errors:c})=>{const{setIsActive:d,cssClasses:p,inputChangeHandler:m,inputBlurHandler:h}=((e,n,r,a,s,o)=>{let i="wc-block-components-text-input";const[l,u]=(0,t.useState)(!1);return(l||e.length)&&(i+=" is-active"),o.hasOwnProperty(s)&&(i+=" has-error"),{setIsActive:u,cssClasses:i,inputChangeHandler:e=>{n(r,e.target.value)},inputBlurHandler:e=>{a(e.target.value),u(!1)}}})(r,a,s,o,i,c);return(0,t.createElement)("div",{className:p},(0,t.createElement)("label",{htmlFor:e},n),(0,t.createElement)(v(),{type:"text",id:e,mask:l,maskChar:u,onChange:m,value:r,onFocus:()=>d(!0),onBlur:h}))};w.propTypes={id:a().string.isRequired,label:a().string.isRequired,inputValue:a().string.isRequired,setInputValue:a().func.isRequired,cardIndex:a().number.isRequired,mask:a().string.isRequired,maskChar:a().string,validate:a().func.isRequired,validateIndex:a().string.isRequired,errors:a().object.isRequired};const C=w,I=({id:e,label:n,cardIndex:r,inputValue:a,setInputValue:s,errors:o,setErrors:i,fieldErrors:l})=>{const{validateInputExpiry:u}=m(r,o,i,l);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(C,{id:e,label:n,mask:"99/99",maskChar:"_",inputValue:a,setInputValue:s,cardIndex:r,validate:u,validateIndex:"inputExpiry",errors:o}),o.inputExpiry&&(0,t.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},(0,t.createElement)("p",null,o.inputExpiry)))};I.propTypes={id:a().string.isRequired,label:a().string.isRequired,cardIndex:a().number.isRequired,inputValue:a().string.isRequired,setInputValue:a().func.isRequired,errors:a().object.isRequired,setErrors:a().func.isRequired,fieldErrors:a().object.isRequired};const R=I,k=({id:e,label:n,cardIndex:r,inputValue:a,setInputValue:s,errors:o,setErrors:i,fieldErrors:l})=>{const{validateInputCvv:u}=m(r,o,i,l);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(C,{id:e,label:n,mask:"9999",inputValue:a,setInputValue:s,cardIndex:r,validate:u,validateIndex:"inputCvv",errors:o}),o.inputCvv&&(0,t.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},(0,t.createElement)("p",null,o.inputCvv)))};k.propTypes={id:a().string.isRequired,label:a().string.isRequired,cardIndex:a().number.isRequired,inputValue:a().string.isRequired,setInputValue:a().func.isRequired,errors:a().object.isRequired,setErrors:a().func.isRequired,fieldErrors:a().object.isRequired};const S=k,{ComboboxControl:x}=wp.components,P=({cards:e,label:n,cardIndex:r,selectedCard:a,setSelectCard:s,setBrand:o})=>{const{filterHandler:i,cardChangeHandler:l}=((e,t,n,r)=>({filterHandler:t=>{e.filter((e=>e.label.toLowerCase().startsWith(t.toLowerCase())))},cardChangeHandler:a=>{if(n(t,a),!e)return;const s=e.find((e=>e.value===a));r(t,s?s.brand:"")}}))(e,r,s,o);return(0,t.createElement)("div",{className:"wc-block-components-select-input pagarme-installments-combobox"},(0,t.createElement)("div",{className:"wc-block-components-combobox is-active"},(0,t.createElement)(x,{className:"wc-block-components-combobox-control",label:n,onChange:l,value:a,options:e,onFilterValueChange:i,allowReset:!1,autoComplete:"off"})))};P.propTypes={cards:a().array.isRequired,label:a().string.isRequired,cardIndex:a().number.isRequired,selectedCard:a().string.isRequired,setSelectCard:a().func.isRequired,setBrand:a().func.isRequired};const O=P,N=window.wp.data,T={holderName:"",number:"",expirationDate:"",installment:1,brand:"",cvv:"",saveCard:!1,walletId:"",errors:{}},M={cards:{1:{...T},2:{...T}}},V=(0,N.createReduxStore)("pagarme-cards",{reducer(e=M,t){switch(t.type){case"SET_PROPERTY_VALUE":return 0===t.propertyName?.length?e:{...e,cards:{...e.cards,[t.cardIndex]:{...e.cards[t.cardIndex],[t.propertyName]:t.value}}};case"RESET":return M}return e},actions:{setHolderName:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"holderName"}),setNumber:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"number"}),setExpirationDate:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"expirationDate"}),setInstallment:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"installment"}),setBrand:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"brand"}),setCvv:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"cvv"}),setSaveCard:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"saveCard"}),setWalletId:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"walletId"}),setErrors:(e,t)=>({type:"SET_PROPERTY_VALUE",cardIndex:e,value:t,propertyName:"errors"}),reset:()=>({type:"RESET"})},selectors:{getHolderName:(e,t)=>e.cards[t].holderName,getNumber:(e,t)=>e.cards[t].number,getExpirationDate:(e,t)=>e.cards[t].expirationDate,getInstallment:(e,t)=>e.cards[t].installment,getBrand:(e,t)=>e.cards[t].brand,getCvv:(e,t)=>e.cards[t].cvv,getSaveCard:(e,t)=>e.cards[t].saveCard,getWalletId:(e,t)=>e.cards[t].walletId,getCards:e=>e.cards,getErrors:(e,t)=>e.cards[t].errors}});(0,N.register)(V);const q=V,{CheckboxControl:D}=window.wc.blocksComponents,L=({billing:e,components:n,backendConfig:r,cardIndex:a,eventRegistration:s})=>{const{LoadingMask:o}=n,{holderNameLabel:i,numberLabel:l,expiryLabel:u,cvvLabel:c,installmentsLabel:p,saveCardLabel:h,walletLabel:g}=r.fieldsLabels,{isLoading:v,setIsLoading:y,setHolderName:b,setNumber:w,setExpirationDate:C,setInstallment:I,setBrand:k,setCvv:x,setWalletId:P,setErrors:T,saveCardChangeHandler:M,formatFieldId:V,holderName:L,number:_,expirationDate:j,selectedInstallment:A,brand:B,cvv:F,saveCard:H,walletId:U,errors:Y}=((e,n,r)=>{const[a,s]=(0,t.useState)(!1),{setHolderName:o,setNumber:i,setExpirationDate:l,setInstallment:u,setBrand:c,setCvv:d,setSaveCard:p,setWalletId:h,setErrors:f}=(0,N.useDispatch)(q),g=(0,N.useSelect)((t=>t(q).getHolderName(e)),[e]),v=(0,N.useSelect)((t=>t(q).getNumber(e)),[e]),y=(0,N.useSelect)((t=>t(q).getExpirationDate(e)),[e]),b=(0,N.useSelect)((t=>t(q).getInstallment(e)),[e]),E=(0,N.useSelect)((t=>t(q).getBrand(e)),[e]),w=(0,N.useSelect)((t=>t(q).getCvv(e)),[e]),C=(0,N.useSelect)((t=>t(q).getSaveCard(e)),[e]),I=(0,N.useSelect)((t=>t(q).getWalletId(e)),[e]),R=(0,N.useSelect)((t=>t(q).getErrors(e)),[e]),{validateAllFields:k}=m(e,R,f,r.fieldErrors),{onCheckoutValidation:S}=n;return(0,t.useEffect)((()=>S((()=>(0===I.length&&k(g,v,y,w),!0)))),[S,g,v,y,w,r,I]),{isLoading:a,setIsLoading:s,setHolderName:o,setNumber:i,setExpirationDate:l,setInstallment:u,setBrand:c,setCvv:d,setWalletId:h,setErrors:f,saveCardChangeHandler:t=>{p(e,t)},formatFieldId:t=>`pagarme_credit_card_${e}_${t}`,holderName:g,number:v,expirationDate:y,selectedInstallment:b,brand:E,cvv:w,saveCard:C,walletId:I,errors:R}})(a,s,r);return(0,t.createElement)(o,{isLoading:v},(0,t.createElement)("div",{className:"wc-block-components-form"},r?.walletEnabled&&r?.cards?.length>0&&(0,t.createElement)(O,{label:g,selectedCard:U,cards:r.cards,cardIndex:a,setSelectCard:P,setBrand:k}),0===U.length&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(f,{id:V("holder_name"),label:i,inputValue:L,setInputValue:b,cardIndex:a,errors:Y,setErrors:T,fieldErrors:r?.fieldErrors}),(0,t.createElement)(E,{id:V("number"),label:l,inputValue:_,setInputValue:w,brand:B,setBrand:k,brands:r?.brands,setIsLoading:y,cardIndex:a,errors:Y,setErrors:T,fieldErrors:r?.fieldErrors}),(0,t.createElement)(R,{id:V("expiry"),label:u,inputValue:j,setInputValue:C,cardIndex:a,errors:Y,setErrors:T,fieldErrors:r?.fieldErrors}),(0,t.createElement)(S,{id:V("cvv"),label:c,inputValue:F,setInputValue:x,cardIndex:a,errors:Y,setErrors:T,fieldErrors:r?.fieldErrors})),(0,t.createElement)(d,{label:p,installments:r?.installments,installmentsType:r?.installmentsType,selectedInstallment:A,setSelectedInstallment:I,brand:B,cartTotal:e.cartTotal.value,setIsLoading:y,cardIndex:a}),0===U.length&&r?.walletEnabled&&(0,t.createElement)(D,{label:h,checked:H,onChange:M})))};L.propType={billing:a().object.isRequired,components:a().object.isRequired,backendConfig:a().object.isRequired,cardIndex:a().number.isRequired,eventRegistration:a().object.isRequired};const _=L;var j=n(21),A=n.n(j);const B={token:"",errors:{}},F=(0,N.createReduxStore)("pagarme-googlepay",{reducer(e=B,t){switch(t.type){case"SET_PROPERTY_VALUE":return t.propertyName?{...e,[t.propertyName]:t.value}:e;case"RESET":return B;default:return e}},actions:{setToken:e=>({type:"SET_PROPERTY_VALUE",value:e,propertyName:"token"}),setErrors:e=>({type:"SET_PROPERTY_VALUE",value:e,propertyName:"errors"}),reset:()=>({type:"RESET"})},selectors:{getToken:e=>e.token,getErrors:e=>e.errors}});(0,N.register)(F);const H=F,U=e=>{const n=wc.wcSettings.getSetting("woo-pagarme-payments-googlepay_data"),r=n.isSandboxMode?"TEST":"PRODUCTION",a=e?.billing?.billingAddress,{setToken:s}=(0,N.useDispatch)(H);return(0,t.createElement)(A(),{environment:r,buttonLocale:"pt",buttonType:"pay",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY"],allowedCardNetworks:n.allowedGoogleBrands},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"pagarme",gatewayMerchantId:n.accountId}}}],merchantInfo:{merchantId:n.merchantId,merchantName:n.merchantName},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:(e.billing.cartTotal.value/100).toString(),currencyCode:"BRL",countryCode:"BR"}},onLoadPaymentData:e=>{if(function(e){const t=["first_name","last_name","email","phone","address_1","city","postcode","state","country"];for(const n of t)if(!e[n])return!1;return!0}(a)){let t=e.paymentMethodData.tokenizationData.token;s(t)}jQuery(".wc-block-components-checkout-place-order-button").click()}})};class Y extends Error{constructor(e){super(e),this.name=this.constructor.name}}const $=(e,t,n)=>{const r=`${e.replace("request.","").replace("card.","")}: ${t}`;return n.hasOwnProperty(r)?n[r]:""};async function W(e,t,n,r,a,s){const[o,i]=p(n),l={card:{holder_name:t,number:y(e),exp_month:o,exp_year:i,cvv:r}};try{const e=`https://api.pagar.me/core/v5/tokens?appId=${a}`,t=await fetch(e,{method:"POST",body:JSON.stringify(l)});if(!t.ok){const e=await t.text();if(0===e.length)return{errorMessage:s.serviceUnavailable};const n=((e,t)=>{let n="";for(const r in e.errors)for(const a of e.errors[r]||[]){const e=$(r,a,t);0!==e.length&&(n+=`${e}<br/>`)}return n})(JSON.parse(e),s);return{errorMessage:n}}return{token:(await t.json()).id}}catch(e){return{errorMessage:s.serviceUnavailable}}}const z=(e,n,r,a)=>{const{reset:s}=(0,N.useDispatch)(q),{reset:o}=(0,N.useDispatch)(H),{onPaymentSetup:i}=r,l=(0,N.useSelect)((e=>e(q).getCards()));(0,t.useEffect)((()=>{s()}),[]),(0,t.useEffect)((()=>i((async()=>{try{if(a)return o(),{type:n.responseTypes.SUCCESS,meta:{paymentMethodData:{pagarme:JSON.stringify({googlepay:{googlepay:{payload:a}}}),payment_method:"googlepay"}}};let t=!1;if("object"==typeof l&&(t=Object.values(l).some((e=>Object.keys(e.errors).length>0))),t)return{type:n.responseTypes.ERROR,message:e.errorMessages.creditCardFormHasErrors};const r=await(async(e,t,n)=>{const r=[];for(let a=1;a<t+1;++a){const{holderName:t,number:s,expirationDate:o,cvv:i,brand:l,installment:u,saveCard:c,walletId:d}=e[a];if(d.length>0){r[a]={"wallet-id":d,brand:l,installment:u};continue}const p=await W(s,t,o,i,n.appId,n.errorMessages);if(p.errorMessage)throw new Y(p.errorMessage);r[a]={token:p.token,brand:l,installment:u},c&&(r[a]["save-card"]=c)}return r})(l,1,e);return{type:n.responseTypes.SUCCESS,meta:{paymentMethodData:{pagarme:JSON.stringify({[e.key]:{cards:{...r}}}),payment_method:e.key}}}}catch(t){let r=e.errorMessages.serviceUnavailable;return t instanceof Y&&(r=t.message),{type:n.responseTypes.ERROR,message:r}}}))),[i,l,e,a])},{registerPaymentMethod:J}=window.wc.wcBlocksRegistry,X=wc.wcSettings.getSetting("woo-pagarme-payments-credit_card_data"),G=wc.wcSettings.getSetting("woo-pagarme-payments-googlepay_data"),Z=n=>{const r=(0,N.useSelect)((e=>e(H).getToken())),{emitResponse:a,eventRegistration:s}=n,o=G.enabled,i=G.hasSubscriptionInCart;return z(X,a,s,r),(0,t.createElement)("div",null,o&&!i&&(0,t.createElement)("div",null,(0,t.createElement)(U,n),(0,t.createElement)("div",{className:"pagarme_creditcard_divider"},(0,t.createElement)("p",null,"Ou pague com cartão"))),!r&&(0,t.createElement)(_,e({},n,{backendConfig:X,cardIndex:1})))},Q=({components:e})=>{const{PaymentMethodLabel:n}=e;return(0,t.createElement)(n,{text:X.label})};Z.propTypes={emitResponse:a().object,eventRegistration:a().object},Q.propTypes={components:a().object},J({name:X.name,label:(0,t.createElement)(Q,null),content:(0,t.createElement)(Z,null),edit:(0,t.createElement)(Z,null),canMakePayment:()=>!0,ariaLabel:X.ariaLabel,supports:{features:["products","subscriptions","subscription_cancellation","subscription_suspension","subscription_reactivation","subscription_amount_changes","subscription_date_changes","subscription_payment_method_change","subscription_payment_method_change_customer","subscription_payment_method_change_admin","multiple_subscriptions"]}})})()})();